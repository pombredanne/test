#!/bin/bash

models="airnet101_1x64d_r2 airnet50_1x64d_r16 airnet50_1x64d_r2 airnext101_32x4d_r16 airnext101_32x4d_r2 airnext50_32x4d_r2 alexnet bagnet17 bagnet33 bagnet9 bam_resnet101 bam_resnet152 bam_resnet18 bam_resnet34 bam_resnet50 bn_vgg11 bn_vgg11b bn_vgg13 bn_vgg13b bn_vgg16 bn_vgg16b bn_vgg19 bn_vgg19b bninception cbam_resnet101 cbam_resnet152 cbam_resnet18 cbam_resnet34 cbam_resnet50 channelnet condensenet74_c4_g4 condensenet74_c8_g8 darknet19 darknet53 darknet_ref darknet_tiny darts deeplabv3_resnetd101b_ade20k deeplabv3_resnetd101b_cityscapes deeplabv3_resnetd101b_coco deeplabv3_resnetd101b_voc deeplabv3_resnetd152b_coco deeplabv3_resnetd152b_voc deeplabv3_resnetd50b_ade20k deeplabv3_resnetd50b_cityscapes deeplabv3_resnetd50b_coco deeplabv3_resnetd50b_voc densenet100_k12_bc_cifar10 densenet100_k12_bc_cifar100 densenet100_k12_bc_svhn densenet100_k12_cifar10 densenet100_k12_cifar100 densenet100_k12_svhn densenet100_k24_cifar10 densenet100_k24_cifar100 densenet100_k24_svhn densenet121 densenet161 densenet169 densenet190_k40_bc_cifar10 densenet190_k40_bc_cifar100 densenet190_k40_bc_svhn densenet201 densenet250_k24_bc_cifar10 densenet250_k24_bc_cifar100 densenet250_k24_bc_svhn densenet40_k12_bc_cifar10 densenet40_k12_bc_cifar100 densenet40_k12_bc_svhn densenet40_k12_cifar10 densenet40_k12_cifar100 densenet40_k12_svhn densenet40_k24_bc_cifar10 densenet40_k24_bc_cifar100 densenet40_k24_bc_svhn densenet40_k36_bc_cifar10 densenet40_k36_bc_cifar100 densenet40_k36_bc_svhn diracnet18v2 diracnet34v2 dla102 dla102x dla102x2 dla169 dla34 dla46c dla46xc dla60 dla60x dla60xc dpn107 dpn131 dpn68 dpn68b dpn98 drnc26 drnc42 drnc58 drnd105 drnd22 drnd38 drnd54 espnetv2_w1 espnetv2_w2 espnetv2_w3d2 espnetv2_w5d4 espnetv2_wd2 fcn8sd_resnetd101b_ade20k fcn8sd_resnetd101b_cityscapes fcn8sd_resnetd101b_coco fcn8sd_resnetd101b_voc fcn8sd_resnetd50b_ade20k fcn8sd_resnetd50b_cityscapes fcn8sd_resnetd50b_coco fcn8sd_resnetd50b_voc fdmobilenet_w1 fdmobilenet_w3d4 fdmobilenet_wd2 fdmobilenet_wd4 fishnet150 fishnet99 igcv3_w1 igcv3_w3d4 igcv3_wd2 igcv3_wd4 inceptionresnetv2 inceptionv3 inceptionv4 irevnet301 menet108_8x1_g3 menet128_8x1_g4 menet160_8x1_g8 menet228_12x1_g3 menet256_12x1_g4 menet348_12x1_g3 menet352_12x1_g8 menet456_24x1_g3 mnasnet mobilenet_w1 mobilenet_w3d4 mobilenet_wd2 mobilenet_wd4 mobilenetv2_w1 mobilenetv2_w3d4 mobilenetv2_wd2 mobilenetv2_wd4 nasnet_4a1056 nasnet_6a4032 nin_cifar10 nin_cifar100 nin_svhn octresnet10_ad2 octresnet50b_ad2 peleenet pnasnet5large polynet preresnet10 preresnet1001_cifar10 preresnet1001_cifar100 preresnet1001_svhn preresnet101 preresnet101b preresnet110_cifar10 preresnet110_cifar100 preresnet110_svhn preresnet12 preresnet1202_cifar10 preresnet1202_cifar100 preresnet1202_svhn preresnet14 preresnet152 preresnet152b preresnet16 preresnet164bn_cifar10 preresnet164bn_cifar100 preresnet164bn_svhn preresnet18 preresnet18_w3d4 preresnet18_wd2 preresnet18_wd4 preresnet200 preresnet200b preresnet20_cifar10 preresnet20_cifar100 preresnet20_svhn preresnet26 preresnet269b preresnet34 preresnet50 preresnet50b preresnet56_cifar10 preresnet56_cifar100 preresnet56_svhn preresnetbc14b preresnetbc26b preresnetbc38b proxylessnas_cpu proxylessnas_gpu proxylessnas_mobile proxylessnas_mobile14 pspnet_resnetd101b_ade20k pspnet_resnetd101b_cityscapes pspnet_resnetd101b_coco pspnet_resnetd101b_voc pspnet_resnetd50b_ade20k pspnet_resnetd50b_cityscapes pspnet_resnetd50b_coco pspnet_resnetd50b_voc pyramidnet101_a360 pyramidnet110_a270_cifar10 pyramidnet110_a270_cifar100 pyramidnet110_a270_svhn pyramidnet110_a48_cifar10 pyramidnet110_a48_cifar100 pyramidnet110_a48_svhn pyramidnet110_a84_cifar10 pyramidnet110_a84_cifar100 pyramidnet110_a84_svhn pyramidnet164_a270_bn_cifar10 pyramidnet164_a270_bn_cifar100 pyramidnet164_a270_bn_svhn pyramidnet200_a240_bn_cifar10 pyramidnet200_a240_bn_cifar100 pyramidnet200_a240_bn_svhn pyramidnet236_a220_bn_cifar10 pyramidnet236_a220_bn_cifar100 pyramidnet236_a220_bn_svhn pyramidnet272_a200_bn_cifar10 pyramidnet272_a200_bn_cifar100 pyramidnet272_a200_bn_svhn resattnet128 resattnet164 resattnet200 resattnet236 resattnet452 resattnet56 resattnet92 resdropresnet20_cifar10 resdropresnet20_cifar100 resdropresnet20_svhn resnet10 resnet1001_cifar10 resnet1001_cifar100 resnet1001_svhn resnet101 resnet101b resnet110_cifar10 resnet110_cifar100 resnet110_svhn resnet12 resnet1202_cifar10 resnet1202_cifar100 resnet1202_svhn resnet14 resnet152 resnet152b resnet16 resnet164bn_cifar10 resnet164bn_cifar100 resnet164bn_svhn resnet18 resnet18_w3d4 resnet18_wd2 resnet18_wd4 resnet200 resnet200b resnet20_cifar10 resnet20_cifar100 resnet20_svhn resnet26 resnet34 resnet50 resnet50b resnet56_cifar10 resnet56_cifar100 resnet56_svhn resnetbc14b resnetbc26b resnetd101b resnetd152b resnetd50b resnext101_32x4d resnext101_64x4d resnext29_16x64d_cifar10 resnext29_16x64d_cifar100 resnext29_16x64d_svhn resnext29_32x4d_cifar10 resnext29_32x4d_cifar100 resnext29_32x4d_svhn resnext50_32x4d rir_cifar10 rir_cifar100 rir_svhn ror3_110_cifar10 ror3_110_cifar100 ror3_110_svhn ror3_164_cifar10 ror3_164_cifar100 ror3_164_svhn ror3_56_cifar10 ror3_56_cifar100 ror3_56_svhn senet103 senet154 senet52 sepreresnet101 sepreresnet101b sepreresnet152 sepreresnet152b sepreresnet18 sepreresnet200 sepreresnet200b sepreresnet34 sepreresnet50 sepreresnet50b seresnet101 seresnet101b seresnet152 seresnet152b seresnet18 seresnet200 seresnet200b seresnet34 seresnet50 seresnet50b seresnext101_32x4d seresnext101_64x4d seresnext50_32x4d shakedropresnet20_cifar10 shakedropresnet20_cifar100 shakedropresnet20_svhn shakeshakeresnet20_2x16d_cifar10 shakeshakeresnet20_2x16d_cifar100 shakeshakeresnet20_2x16d_svhn shakeshakeresnet26_2x32d_cifar10 shakeshakeresnet26_2x32d_cifar100 shakeshakeresnet26_2x32d_svhn sharesnet101 sharesnet101b sharesnet152 sharesnet152b sharesnet18 sharesnet34 sharesnet50 sharesnet50b shufflenet_g1_w1 shufflenet_g1_w3d4 shufflenet_g1_wd2 shufflenet_g1_wd4 shufflenet_g2_w1 shufflenet_g3_w1 shufflenet_g3_w3d4 shufflenet_g3_wd2 shufflenet_g3_wd4 shufflenet_g4_w1 shufflenet_g8_w1 shufflenetv2_w1 shufflenetv2_w2 shufflenetv2_w3d2 shufflenetv2_wd2 shufflenetv2b_w1 shufflenetv2b_w2 shufflenetv2b_w3d2 shufflenetv2b_wd2 sknet101 sknet152 sknet50 sparsenet121 sparsenet161 sparsenet169 sparsenet201 sparsenet264 sqnxt23_w1 sqnxt23_w2 sqnxt23_w3d2 sqnxt23v5_w1 sqnxt23v5_w2 sqnxt23v5_w3d2 squeezenet_v1_0 squeezenet_v1_1 squeezeresnet_v1_0 squeezeresnet_v1_1 vgg11 vgg13 vgg16 vgg19 wrn16_10_cifar10 wrn16_10_cifar100 wrn16_10_svhn wrn20_10_1bit_cifar10 wrn20_10_1bit_cifar100 wrn20_10_1bit_svhn wrn20_10_32bit_cifar10 wrn20_10_32bit_cifar100 wrn20_10_32bit_svhn wrn28_10_cifar10 wrn28_10_cifar100 wrn28_10_svhn wrn40_8_cifar10 wrn40_8_cifar100 wrn40_8_svhn wrn50_2 xception xdensenet121_2 xdensenet161_2 xdensenet169_2 xdensenet201_2 xdensenet40_2_k24_bc_cifar10 xdensenet40_2_k24_bc_cifar100 xdensenet40_2_k24_bc_svhn xdensenet40_2_k36_bc_cifar10 xdensenet40_2_k36_bc_cifar100 xdensenet40_2_k36_bc_svhn zfnet"

dest=chainercv2
mkdir -p "${dest}"
cd "${dest}"

wget https://upload.wikimedia.org/wikipedia/commons/f/fe/Giant_Panda_in_Beijing_Zoo_1.JPG
mv Giant_Panda_in_Beijing_Zoo_1.JPG panda.jpg

for m in $models; do
    mkdir -p "${m}_224x224"
    echo "Exporting ${m}"
    python3 ../export_chainercv2.py "${m}" --gpu 0 --image panda.jpg >& "${m}_224x224/export.log"
done
